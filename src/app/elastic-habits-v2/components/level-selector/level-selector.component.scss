/* Main Container - Cork Board z większym realizmem */
.level-selector-container {
  width: 100%;
  max-width: 380px;
  background:
    /* Więcej nieregularnych pinów i dziurek */
    radial-gradient(circle 3px at 12% 8%, rgba(140, 115, 85, 0.4) 25%, transparent 45%),
    radial-gradient(circle 2px at 88% 15%, rgba(160, 135, 110, 0.35) 30%, transparent 50%),
    radial-gradient(circle 2px at 25% 25%, rgba(180, 150, 125, 0.3) 35%, transparent 55%),
    radial-gradient(circle 1px at 75% 35%, rgba(160, 135, 110, 0.4) 40%, transparent 60%),
    radial-gradient(circle 3px at 35% 45%, rgba(140, 115, 85, 0.35) 30%, transparent 50%),
    radial-gradient(circle 2px at 65% 55%, rgba(180, 150, 125, 0.25) 25%, transparent 45%),
    radial-gradient(circle 1px at 15% 75%, rgba(160, 135, 110, 0.45) 35%, transparent 55%),
    radial-gradient(circle 2px at 85% 85%, rgba(140, 115, 85, 0.3) 30%, transparent 50%),
    radial-gradient(circle 1px at 45% 15%, rgba(180, 150, 125, 0.35) 40%, transparent 60%),
    radial-gradient(circle 2px at 55% 25%, rgba(160, 135, 110, 0.25) 25%, transparent 45%),

      /* Naturalne wgniecenia i nierówności */
    radial-gradient(ellipse 25px 15px at 20% 30%, rgba(200, 175, 150, 0.15) 30%, transparent 70%),
    radial-gradient(ellipse 18px 28px at 80% 60%, rgba(190, 165, 140, 0.12) 25%, transparent 65%),
    radial-gradient(ellipse 30px 20px at 60% 20%, rgba(210, 185, 160, 0.1) 35%, transparent 75%),
    radial-gradient(ellipse 22px 35px at 30% 80%, rgba(200, 175, 150, 0.08) 40%, transparent 80%),
    radial-gradient(ellipse 35px 25px at 70% 40%, rgba(190, 165, 140, 0.06) 30%, transparent 70%),

      /* Bardziej wyraziste ziarna korka */
    radial-gradient(ellipse 3px 2px at 18% 28%, #e8d5b8 0%, transparent 60%),
    radial-gradient(ellipse 2px 4px at 82% 45%, #dcc9a3 0%, transparent 65%),
    radial-gradient(ellipse 4px 3px at 38% 72%, #e6d3b7 0%, transparent 55%),
    radial-gradient(ellipse 3px 3px at 72% 18%, #d4c194 0%, transparent 60%),
    radial-gradient(ellipse 2px 3px at 25% 55%, #e8d5b8 0%, transparent 65%),
    radial-gradient(ellipse 4px 2px at 88% 75%, #dcc9a3 0%, transparent 60%),
    radial-gradient(ellipse 1px 3px at 5% 40%, #e6d3b7 0%, transparent 65%),
    radial-gradient(ellipse 3px 1px at 95% 30%, #d4c194 0%, transparent 55%),

      /* Więcej naturalnych pęknięć */
    linear-gradient(125deg, transparent 47%, rgba(170, 145, 120, 0.2) 48%, rgba(170, 145, 120, 0.2) 49%, transparent 51%),
    linear-gradient(95deg, transparent 67%, rgba(190, 165, 140, 0.15) 68%, rgba(190, 165, 140, 0.15) 69%, transparent 71%),
    linear-gradient(75deg, transparent 32%, rgba(180, 155, 130, 0.1) 33%, rgba(180, 155, 130, 0.1) 34%, transparent 36%),
    linear-gradient(155deg, transparent 78%, rgba(160, 135, 110, 0.12) 79%, rgba(160, 135, 110, 0.12) 80%, transparent 82%),

      /* Główny gradient korka z większą głębią */
    radial-gradient(ellipse 120% 80% at 30% 40%,
      #f5e8d1 0%,
      #f0ddb0 15%,
      #ede0c5 30%,
      #f2e6d0 45%,
      #f5e8d1 60%,
      #f0ddb0 75%,
      #f8f0e3 100%);

  background-size:
    45px 35px, 40px 30px, 50px 40px, 35px 25px, 55px 45px, 40px 35px, 30px 25px, 45px 40px, 35px 30px, 50px 35px,
    30px 18px, 22px 32px, 35px 25px, 28px 40px, 40px 30px,
    8px 4px, 6px 12px, 12px 8px, 10px 10px, 8px 10px, 14px 6px, 4px 10px, 12px 4px,
    180px 1px, 220px 1px, 160px 1px, 200px 1px,
    100% 100%;

  /* Jeszcze bardziej nieregularny kształt */
  border-radius:
    15px 11px 13px 17px /
    12px 16px 14px 10px;
  padding: 24px;
  position: relative;
  border: none;

  /* Bardziej dramatyczne cienie i wgniecenia */
  box-shadow:
    /* Główne cienie */
    0 8px 25px rgba(0, 0, 0, 0.12),
    0 3px 8px rgba(0, 0, 0, 0.08),
    0 1px 3px rgba(0, 0, 0, 0.05),

      /* Wgniecenia brzegów */
    inset -3px 0 8px rgba(150, 125, 100, 0.12),
    inset 3px 0 8px rgba(150, 125, 100, 0.12),
    inset 0 -3px 8px rgba(150, 125, 100, 0.1),
    inset 0 3px 8px rgba(150, 125, 100, 0.1),

      /* Głębsze wewnętrzne cienie */
    inset 0 0 20px rgba(170, 145, 120, 0.08),
    inset -1px -1px 3px rgba(140, 115, 90, 0.15),
    inset 1px 1px 3px rgba(240, 230, 220, 0.5);

  /* Dodatkowa warstwa tekstury */
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background:
      /* Większe naturalne uszkodzenia */
      radial-gradient(ellipse 8px 12px at 15% 35%, rgba(160, 135, 110, 0.25) 0%, transparent 60%),
      radial-gradient(ellipse 10px 6px at 85% 65%, rgba(180, 155, 130, 0.2) 0%, transparent 55%),
      radial-gradient(ellipse 6px 10px at 45% 10%, rgba(170, 145, 120, 0.3) 0%, transparent 65%),
      radial-gradient(ellipse 12px 8px at 25% 85%, rgba(160, 135, 110, 0.22) 0%, transparent 70%),
      radial-gradient(ellipse 9px 15px at 75% 25%, rgba(180, 155, 130, 0.18) 0%, transparent 60%),

        /* Realistyczne plamy i przebarwienia */
      radial-gradient(ellipse 35px 20px at 50% 30%, rgba(190, 165, 140, 0.06) 0%, transparent 80%),
      radial-gradient(ellipse 25px 40px at 20% 70%, rgba(210, 185, 160, 0.04) 0%, transparent 85%),
      radial-gradient(ellipse 40px 25px at 80% 20%, rgba(200, 175, 150, 0.05) 0%, transparent 90%),
      radial-gradient(ellipse 30px 30px at 70% 80%, rgba(180, 155, 130, 0.03) 0%, transparent 75%);
    border-radius: inherit;
    pointer-events: none;
  }

  /* Bardzo subtelne słoje drewna */
  &::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background:
      /* Naturalne słoje korka */
      linear-gradient(92deg, transparent 0%, rgba(170, 145, 120, 0.04) 0.5%, transparent 2%),
      linear-gradient(88deg, transparent 0%, rgba(190, 165, 140, 0.03) 1%, transparent 3%),
      linear-gradient(94deg, transparent 0%, rgba(180, 155, 130, 0.025) 0.3%, transparent 1.8%),
      linear-gradient(86deg, transparent 0%, rgba(200, 175, 150, 0.02) 1.2%, transparent 4%),
      linear-gradient(96deg, transparent 0%, rgba(160, 135, 110, 0.035) 0.8%, transparent 2.5%),

        /* Pionowe struktury */
      linear-gradient(2deg, transparent 0%, rgba(170, 145, 120, 0.025) 0.5%, transparent 1.5%),
      linear-gradient(178deg, transparent 0%, rgba(190, 165, 140, 0.02) 0.3%, transparent 1%),
      linear-gradient(182deg, transparent 0%, rgba(180, 155, 130, 0.015) 0.8%, transparent 2%);

    background-size:
      45px 100%, 65px 100%, 35px 100%, 85px 100%, 55px 100%,
      100% 75px, 100% 95px, 100% 125px;
    border-radius: inherit;
    pointer-events: none;
  }
}

/* Habit Header - Bardziej realistyczna karteczka */
.habit-header {
  display: flex;
  align-items: center;
  gap: 16px;
  margin-bottom: 24px;
  padding: 18px 20px;
  background:
    /* Subtelna tekstura papieru */
    radial-gradient(circle at 20% 80%, rgba(0,0,0,0.02) 0%, transparent 50%),
    radial-gradient(circle at 80% 20%, rgba(0,0,0,0.02) 0%, transparent 50%),
    radial-gradient(circle at 40% 40%, rgba(255,255,255,0.3) 0%, transparent 50%),
    linear-gradient(145deg, #fef9c3 0%, #fbbf24 100%);
  border-radius: 6px 4px 5px 6px;
  position: relative;
  transform: rotate(-1.2deg);

  /* Bardziej realistyczny cień karteczki */
  box-shadow:
    0 8px 25px rgba(0, 0, 0, 0.18),
    0 3px 8px rgba(0, 0, 0, 0.12),
    0 1px 3px rgba(0, 0, 0, 0.08),
    inset 0 1px 0 rgba(255, 255, 255, 0.4),
    inset 0 -1px 0 rgba(0, 0, 0, 0.05);

  /* Większy efekt zagięcia rogu */
  &::after {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 25px;
    height: 25px;
    background:
      linear-gradient(315deg, rgba(0,0,0,0.15) 0%, rgba(0,0,0,0.05) 50%, transparent 70%),
      linear-gradient(315deg, rgba(255,180,0,0.3) 0%, transparent 60%);
    border-top-right-radius: 6px;
    transform: scale(0.95);
  }

  /* Więcej tekstury papieru */
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background:
      /* Włókna papieru */
      linear-gradient(45deg, transparent 48%, rgba(255,255,255,0.1) 49%, rgba(255,255,255,0.1) 50%, transparent 52%),
      linear-gradient(135deg, transparent 48%, rgba(0,0,0,0.02) 49%, rgba(0,0,0,0.02) 50%, transparent 52%),
        /* Drobne imperfekcje */
      radial-gradient(circle at 25% 25%, rgba(0,0,0,0.03) 0%, transparent 30%),
      radial-gradient(circle at 75% 75%, rgba(0,0,0,0.03) 0%, transparent 30%),
      radial-gradient(circle at 60% 40%, rgba(255,255,255,0.15) 0%, transparent 25%);
    border-radius: inherit;
    pointer-events: none;
  }
}

/* Realistyczne pisma ręczne dla różnych elementów */
.habit-name {
  font-family: 'Kalam', 'Caveat', 'Patrick Hand', cursive;
  font-size: 1.1rem;
  font-weight: 600;
  color: #654321;
  margin: 0;
  transform: rotate(-0.3deg);
  letter-spacing: 0.5px;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
}

.habit-subtitle {
  font-family: 'Caveat', 'Kalam', cursive;
  font-size: 0.85rem;
  color: #8b6914;
  margin: 2px 0 0 0;
  transform: rotate(0.2deg);
  font-weight: 400;
  letter-spacing: 0.3px;
}

/* Level Cards - Bardziej realistyczne karteczki */
.level-card {
  background: var(--note-bg, linear-gradient(145deg, #dcfce7 0%, #bbf7d0 100%));
  border: 1px solid var(--note-border, #86efac);
  border-radius: 5px 4px 6px 4px;
  padding: 18px;
  cursor: pointer;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: visible;
  transform: var(--note-rotation, rotate(0.5deg));

  /* Bardziej dramatyczny cień karteczki */
  box-shadow:
    0 6px 20px rgba(0, 0, 0, 0.15),
    0 2px 6px rgba(0, 0, 0, 0.1),
    0 1px 2px rgba(0, 0, 0, 0.05),
    inset 0 1px 0 rgba(255, 255, 255, 0.5),
    inset 0 -1px 0 rgba(0, 0, 0, 0.03);

  /* Więcej tekstury papieru */
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background:
      /* Włókna papieru */
      linear-gradient(30deg, transparent 49%, rgba(255,255,255,0.08) 50%, transparent 51%),
      linear-gradient(150deg, transparent 49%, rgba(0,0,0,0.02) 50%, transparent 51%),
        /* Naturalne imperfekcje */
      radial-gradient(circle at 20% 80%, rgba(0,0,0,0.025) 0%, transparent 40%),
      radial-gradient(circle at 80% 20%, rgba(0,0,0,0.025) 0%, transparent 40%),
      radial-gradient(circle at 60% 60%, rgba(255,255,255,0.12) 0%, transparent 30%),
      radial-gradient(circle at 30% 30%, rgba(0,0,0,0.015) 0%, transparent 50%);
    border-radius: inherit;
    pointer-events: none;
  }

  /* Bardziej widoczny efekt zagięcia */
  &::after {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 18px;
    height: 18px;
    background:
      linear-gradient(315deg, rgba(0,0,0,0.12) 0%, rgba(0,0,0,0.04) 50%, transparent 70%);
    border-top-right-radius: 5px;
    transform: scale(0.9);
  }
}

/* Realistyczne układy tekstów na kartkach */
.level-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  margin-bottom: 12px;
  position: relative;
}

.level-title {
  font-family: 'Kalam', 'Caveat', 'Patrick Hand', cursive;
  font-size: 1rem;
  font-weight: 600;
  color: #2d3748;
  margin: 0;
  transform: rotate(-0.4deg);
  letter-spacing: 0.3px;
  text-shadow: 0.5px 0.5px 1px rgba(0, 0, 0, 0.1);
  flex: 1;
  margin-left: 8px;
}

.level-indicator {
  position: relative;
  margin-top: 2px;
}

.level-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.2);
}

/* Realistyczny progress bar - jak narysowany */
.progress-section {
  margin: 16px 0;
  position: relative;
}

.progress-info {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  margin-bottom: 8px;
  position: relative;
}

.progress-text {
  font-family: 'Caveat', 'Kalam', cursive;
  font-size: 0.9rem;
  color: #4a5568;
  transform: rotate(-0.2deg);
  font-weight: 500;
  letter-spacing: 0.2px;
}

.progress-value {
  font-family: 'Patrick Hand', 'Kalam', cursive;
  font-size: 1rem;
  font-weight: 700;
  color: #2d3748;
  transform: rotate(0.3deg);
  text-shadow: 0.5px 0.5px 1px rgba(0, 0, 0, 0.1);
}

/* Progress bar jak narysowany ręcznie */
.progress-bar {
  height: 12px;
  background:
    /* Nieregularne tło jak narysowane ołówkiem */
    linear-gradient(90deg,
      rgba(0, 0, 0, 0.1) 0%,
      rgba(0, 0, 0, 0.05) 25%,
      rgba(0, 0, 0, 0.08) 50%,
      rgba(0, 0, 0, 0.05) 75%,
      rgba(0, 0, 0, 0.1) 100%);
  border-radius: 8px 6px 7px 8px;
  position: relative;
  transform: rotate(-0.2deg);
  box-shadow:
    inset 0 1px 3px rgba(0, 0, 0, 0.15),
    inset 0 -1px 1px rgba(255, 255, 255, 0.3);

  /* Tekstura papieru w tle */
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background:
      linear-gradient(45deg, transparent 48%, rgba(255, 255, 255, 0.1) 50%, transparent 52%),
      linear-gradient(135deg, transparent 48%, rgba(0, 0, 0, 0.02) 50%, transparent 52%);
    border-radius: inherit;
  }
}

.progress-fill {
  height: 100%;
  border-radius: 7px 5px 6px 7px;
  position: relative;
  transition: width 0.8s ease-out;
  transform: rotate(0.1deg);

  /* Efekt ręcznego kolorowania */
  background: linear-gradient(90deg,
    var(--fill-color, #10b981) 0%,
    color-mix(in srgb, var(--fill-color, #10b981) 85%, white 15%) 25%,
    var(--fill-color, #10b981) 50%,
    color-mix(in srgb, var(--fill-color, #10b981) 90%, black 10%) 75%,
    var(--fill-color, #10b981) 100%) !important;

  box-shadow:
    inset 0 1px 2px rgba(255, 255, 255, 0.3),
    inset 0 -1px 2px rgba(0, 0, 0, 0.1),
    0 0 0 1px rgba(0, 0, 0, 0.05);

  /* Nieregularny wzór jak mazak */
  &::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background:
      radial-gradient(ellipse 3px 1px at 20% 30%, rgba(255, 255, 255, 0.2) 0%, transparent 70%),
      radial-gradient(ellipse 2px 1px at 60% 70%, rgba(0, 0, 0, 0.1) 0%, transparent 60%),
      radial-gradient(ellipse 4px 1px at 80% 40%, rgba(255, 255, 255, 0.15) 0%, transparent 50%);
    border-radius: inherit;
  }
}

.progress-details {
  margin-top: 6px;
  text-align: right;
}

.days-count {
  font-family: 'Caveat', 'Patrick Hand', cursive;
  font-size: 0.85rem;
  color: #6b7280;
  transform: rotate(0.4deg);
  font-weight: 500;
  letter-spacing: 0.2px;
}

/* Obszar opisu jak notatka */
.description-area {
  margin-top: 12px;
  position: relative;
}

.description-display {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 8px 4px;
  cursor: text;
  min-height: 28px;
  border-radius: 3px;
  transition: background-color 0.2s ease;

  &:hover {
    background-color: rgba(0, 0, 0, 0.02);
  }
}

.description-text {
  font-family: 'Caveat', 'Kalam', cursive;
  font-size: 0.9rem;
  color: #4a5568;
  font-style: italic;
  transform: rotate(-0.1deg);
  letter-spacing: 0.2px;
  line-height: 1.3;

  &:empty::before {
    content: 'Kliknij aby opisać...';
    color: #9ca3af;
    font-style: italic;
  }
}

.edit-icon {
  color: #9ca3af;
  transform: rotate(-2deg);
  opacity: 0.6;
  transition: opacity 0.2s ease;

  .description-display:hover & {
    opacity: 1;
  }
}

.description-input {
  width: 100%;
  padding: 6px 8px;
  border: 1px dashed #9ca3af;
  border-radius: 3px;
  background: rgba(255, 255, 255, 0.8);
  font-family: 'Caveat', 'Kalam', cursive;
  font-size: 0.9rem;
  color: #374151;
  transform: rotate(-0.1deg);
  letter-spacing: 0.2px;

  &:focus {
    outline: none;
    border-color: #6b7280;
    background: rgba(255, 255, 255, 0.95);
  }

  &::placeholder {
    color: #9ca3af;
    font-style: italic;
  }
}

/* Różne kolory i rotacje dla każdego poziomu z większą różnorodnością */
.level-card:nth-child(1) {
  --note-bg: linear-gradient(145deg, #dcfce7 0%, #bbf7d0 100%);
  --note-border: #10b981;
  --note-rotation: rotate(-1.8deg);
  border-radius: 6px 4px 5px 7px;

  .level-title {
    transform: rotate(-0.6deg);
    color: #065f46;
  }

  .progress-text {
    transform: rotate(-0.4deg);
    color: #047857;
  }

  .progress-value {
    transform: rotate(0.5deg);
    color: #065f46;
  }

  .days-count {
    transform: rotate(0.6deg);
    color: #059669;
  }
}

.level-card:nth-child(2) {
  --note-bg: linear-gradient(145deg, #dbeafe 0%, #93c5fd 100%);
  --note-border: #3b82f6;
  --note-rotation: rotate(1.2deg);
  border-radius: 4px 6px 4px 5px;

  .level-title {
    transform: rotate(-0.2deg);
    color: #1e40af;
  }

  .progress-text {
    transform: rotate(0.3deg);
    color: #1d4ed8;
  }

  .progress-value {
    transform: rotate(-0.1deg);
    color: #1e40af;
  }

  .days-count {
    transform: rotate(-0.3deg);
    color: #2563eb;
  }
}

.level-card:nth-child(3) {
  --note-bg: linear-gradient(145deg, #fef2f2 0%, #fecaca 100%);
  --note-border: #ef4444;
  --note-rotation: rotate(-0.7deg);
  border-radius: 5px 4px 6px 4px;

  .level-title {
    transform: rotate(0.4deg);
    color: #b91c1c;
  }

  .progress-text {
    transform: rotate(-0.2deg);
    color: #dc2626;
  }

  .progress-value {
    transform: rotate(0.3deg);
    color: #b91c1c;
  }

  .days-count {
    transform: rotate(-0.4deg);
    color: #dc2626;
  }
}

.level-card:hover {
  transform: var(--note-rotation, rotate(0.5deg)) translateY(-8px) scale(1.03);
  box-shadow:
    0 15px 40px rgba(0, 0, 0, 0.2),
    0 8px 15px rgba(0, 0, 0, 0.15),
    0 3px 6px rgba(0, 0, 0, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.6),
    inset 0 -1px 0 rgba(0, 0, 0, 0.05);
  z-index: 10;
}

/* Pinezki dla wybranych kart */
.level-card.selected .level-indicator::after {
  content: '';
  position: absolute;
  top: -12px;
  left: 50%;
  transform: translateX(-50%);
  width: 16px;
  height: 16px;
  background:
    radial-gradient(circle at 30% 30%, rgba(255,255,255,0.6) 0%, var(--level-color) 30%, rgba(0,0,0,0.2) 100%);
  border-radius: 50%;
  box-shadow:
    0 3px 6px rgba(0, 0, 0, 0.25),
    0 1px 2px rgba(0, 0, 0, 0.3),
    inset 0 1px 2px rgba(255, 255, 255, 0.4),
    inset 0 -1px 1px rgba(0, 0, 0, 0.2);
  border: 1px solid rgba(0, 0, 0, 0.1);
}

/* Znaczek wyboru z ręcznym stylem */
.selection-badge {
  position: relative;
  transform: rotate(-3deg);

  svg {
    color: #059669;
    filter: drop-shadow(0.5px 0.5px 1px rgba(0, 0, 0, 0.2));
  }
}

/* Realistyczna taśma klejąca */
.level-card:nth-child(2)::before {
  content: '';
  position: absolute;
  top: -10px;
  left: 15px;
  width: 50px;
  height: 20px;
  background:
    /* Tekstura taśmy */
    linear-gradient(90deg, rgba(255,255,255,0.1) 0%, transparent 50%, rgba(0,0,0,0.05) 100%),
    linear-gradient(145deg, rgba(255,255,255,0.9) 0%, rgba(230,230,230,0.8) 50%, rgba(200,200,200,0.7) 100%);
  border-radius: 3px;
  box-shadow:
    0 2px 6px rgba(0, 0, 0, 0.15),
    inset 0 1px 0 rgba(255,255,255,0.8),
    inset 0 -1px 0 rgba(0,0,0,0.1);
  z-index: 2;
  transform: rotate(-2deg);
  border: 1px solid rgba(200,200,200,0.3);
}

/* Import fontów ręcznych */
@import url('https://fonts.googleapis.com/css2?family=Kalam:wght@300;400;700&family=Caveat:wght@400;500;600;700&family=Patrick+Hand&display=swap');

/* Dodatkowe animacje wejścia z większym realizmem */
@keyframes floatIn {
  from {
    opacity: 0;
    transform: var(--note-rotation, rotate(0.5deg)) translateY(40px) scale(0.9) rotateX(10deg);
  }
  50% {
    transform: var(--note-rotation, rotate(0.5deg)) translateY(-5px) scale(1.02) rotateX(2deg);
  }
  to {
    opacity: 1;
    transform: var(--note-rotation, rotate(0.5deg)) translateY(0) scale(1) rotateX(0deg);
  }
}

/* Animacja dla progress bar - jak wypełnianie markerem */
@keyframes fillProgress {
  from {
    width: 0%;
    opacity: 0.7;
  }
  to {
    width: var(--target-width);
    opacity: 1;
  }
}

.progress-fill {
  animation: fillProgress 1.2s ease-out forwards;
}

/* Dodatkowe efekty ręcznego pisma */
.level-card:nth-child(1) {
  .description-text {
    transform: rotate(-0.3deg);
    color: #047857;
  }

  .progress-fill {
    --fill-color: #10b981;
  }
}

.level-card:nth-child(2) {
  .description-text {
    transform: rotate(0.2deg);
    color: #1d4ed8;
  }

  .progress-fill {
    --fill-color: #3b82f6;
  }
}

.level-card:nth-child(3) {
  .description-text {
    transform: rotate(-0.1deg);
    color: #dc2626;
  }

  .progress-fill {
    --fill-color: #ef4444;
  }
}

/* Responsywność z zachowaniem realizmu */
@media (max-width: 768px) {
  .level-selector-container {
    max-width: 100%;
    padding: 20px 16px;
    /* Zachowaj tekstury i efekty na mobile */
  }

  .habit-header {
    padding: 16px 18px;
    transform: rotate(-0.8deg); /* Mniejsza rotacja na mobile */
  }

  .habit-name {
    font-size: 1rem;
  }

  .habit-subtitle {
    font-size: 0.8rem;
  }

  .level-card {
    padding: 16px;
  }

  .level-title {
    font-size: 0.95rem;
  }

  .progress-text, .progress-value, .days-count {
    font-size: 0.85rem;
  }

  .level-card:nth-child(1) { --note-rotation: rotate(-1deg); }
  .level-card:nth-child(2) { --note-rotation: rotate(0.6deg); }
  .level-card:nth-child(3) { --note-rotation: rotate(-0.4deg); }
}

/* Dodatkowe mikro-animacje dla realizmu */
.level-card:hover .level-title {
  transform: rotate(-0.2deg) translateY(-1px);
  transition: transform 0.3s ease;
}

.level-card:hover .progress-text,
.level-card:hover .progress-value,
.level-card:hover .days-count {
  transform: rotate(0deg) translateY(-0.5px);
  transition: transform 0.3s ease;
}

/* Efekt "drżenia" pisma dla większego realizmu */
@keyframes handwritingShake {
  0%, 100% { transform: translateX(0) rotate(-0.1deg); }
  25% { transform: translateX(0.2px) rotate(0.1deg); }
  50% { transform: translateX(-0.1px) rotate(-0.05deg); }
  75% { transform: translateX(0.1px) rotate(0.05deg); }
}

.description-input:focus {
  animation: handwritingShake 0.1s ease-in-out infinite;
}
